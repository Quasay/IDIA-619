<html lang="">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=windows-1252">
        <title>HW 10: Events w/ ViewPort </title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
<body>

<h3> Weather for the week of 6/20/20 </h3>



<ul id="weather"></ul>


</body>


<script>
    const fileUrl = 'weather.txt' // Assumes .text file is in same dir as this one.

    fetch(fileUrl)
        .then( res => res.json() )
        .then( jsonData =>{
            console.log(jsonData);

            jsonData.forEach(element => {

                let cloud  = parseInt(element.clouds);
                let precipitation = element.precipitation;

                document.getElementById('weather').innerHTML += '<li>'
                    + '<strong>' +  "Date: " + '</strong>' +  element.date + '<br>'
                    +  '<strong>' + "Temp: " + '</strong>' +  element.temperature + '<br>'
                    +  '<strong>' + "Precipitation: " + '</strong>' +  element.precipitation + '<br>'
                    +  '<strong>' + "Clouds : " + '</strong>' +  element.clouds
                    + '</li>';

                if(cloud === 0){
                    document.getElementById('weather').innerHTML +=
                        '<img src="clear.png" alt="">' + '<br>';
                }else if (cloud <= 50){
                    document.getElementById('weather').innerHTML +=
                        '<img src="mostlysunny.png" alt="">' + '<br>';
                }else if(cloud === 100 && precipitation >= 50 && precipitation < 90){
                    document.getElementById('weather').innerHTML +=
                        '<img src="rain03.png" alt="">' + '<br>';
                }else if(cloud === 100 && precipitation >= 90){
                    document.getElementById('weather').innerHTML +=
                        '<img src="thunderstorms01.png" alt="">' + '<br>';
                } else{
                    document.getElementById('weather').innerHTML += '<br>';
                }



            })
        })


    /*
        Sample Obj. for reference
        {
            "date":"6/24/16",
            "temperature":"75",
            "precipitation":"0",
            "clouds":"50"
         }
     */


</script>

</html>


